# car-stock-api
Справочник автомобилей

### `17.12.2024` Слой маппинга CarStockMAP
добавлен новый слой CarStrockMAP для маппинга. Для разграничения ответственности между API и DAL, к тому же без передач DTO с нижних уровней до API,
в слое маппинга Мапперли работает с моделью из DAL, отдает нам красивые строки вида "Марка, Модель, Цвет, Количество, Доступность". Таким образом, в API
мы можем получать "красивые" строки от сервиса маппинга, а от CarService из BLL мы можем получить целые модели 


`var carDtos = cars.Select(car => mapper.MapToCarDto(car)).ToList();`

**Select** это метод проекции, который применяется к коллекции, чтобы преобразовать каждый ее элемент.

- `cars`: исходная коллекция типа `IEnumerable<Car>` 
- `car => mapper.MapToCarDto(car)`: лямбда-выражение, описывающее, как каждый объект `Car` преобразуется в `CarDTO`

Select:

1. Берёт каждый элемент из коллекции `cars`.
Применяет к нему лямбда-выражение `mapper.MapToCarDto(car)`.
Результатом Select будет новая коллекция (с типом `IEnumerable<CarDTO>`), содержащая преобразованные элементы.
2. Возвращает ленивую коллекцию (**lazy evaluation**) — это значит, что элементы обрабатываются по мере необходимости и не хранятся в памяти.
ToList() принудительно выполняет всю операцию и создаёт список `List<CarDTO>` в памяти.

след шаг - сделать маппер для машинок, чтоб выводилось красиво
потом контролеры для всех остальных
КРУД только для машинок, остальные - справочники, сервисы не подключать пока


<details>
	<summary> draft </summary>
не будем использовать unit of work. для каждой модели будет создаваться свой интерфейс репозитория и сервисы
после реализации остальных моделей до api, добавить там маппинг. вернуться к блл, добавить там функции
перенести дто в api

убрала диспоус от греха подальше

1. управление количеством автомобилей
2. маркинг как недоступных 
3. круд
	при добавлении нужно проверять есть ли по этому айди объект из справочника

</details>

### `12.12.2024` Добавлен уровень BLL, в котором реализован только функционал с Car. На этом уровне не используются DTO

### `11.12.2024` в CarStockDAL теперь паттерн репозиторий, работающий только на Car 

